/*
 * -------------------------------------------------
 *  Nextflow config file for running tests
 * -------------------------------------------------
 * Defines bundled input files and everything required
 * to run a fast and simple test. Use as follows:
 *   nextflow run genomicsITER/nanopulse -profile test,conda
 */

params {
  config_profile_name = 'Test profile'
  config_profile_description = 'Minimal test dataset to check pipeline function'

  // Limit resources for testing
  max_cpus = 2
  max_memory = 6.GB
  max_time = 48.h

  // Input data
  input = "${projectDir}/tests/testdata/samplesheet_test.csv"

  // Pipeline parameters for test
  polishing_reads = 20
  min_cluster_size = 50
  umap_set_size = 5000
}

// Override resource requirements for testing
process {
  withLabel:process_low {
    cpus = 1
    memory = 2.GB
    time = 1.h
  }
  withLabel:process_medium {
    cpus = 2
    memory = 4.GB
    time = 2.h
  }
  withLabel:process_high {
    cpus = 2
    memory = 6.GB
    time = 4.h
  }
  withLabel:process_long {
    time = 6.h
  }
}
